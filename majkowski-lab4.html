<html>
<head>    
	<style>
		.blacktext {color: black;}
		.redtext {color: red;}
		table {border-spacing: 30px;}
	</style>
	<title>Julia Majkowski-IT2320-Lab 4-Form Validation</title>
	<script>
		"use strict";
		//onload section
		window.onload = function () {
			//set up event for maritalStatus drop down//
			document.getElementById('mstatus').onchange = mstatusChange;
			//set up event for Submit button
			document.getElementById('submitBtn').onclick = function () { processForm() };
			//set focus to fname field
			document.getElementById("fname").focus();
			//("#fname").focus();
		}
		function mstatusChange() {
			//get the value from mstatus drop down
			//disable or enable spouse name based on value
			var mstatus = document.getElementById('mstatus').value;
			if (mstatus == 'married')
				document.getElementById('sname').disabled = false;
			else
				document.getElementById('sname').disabled = true;
		}
		function processForm() {
			//get all the form values
			var lname = document.getElementById('lname').value;
			var fname = document.getElementById('fname').value;
			var address = document.getElementById('address').value;
			var ste = document.getElementById('ste').value;
			var city = document.getElementById('city').value;
			var zipcode = document.getElementById('zipcode').value;
			var gender = "";
			if (document.getElementById("female").checked) { gender = "Female"; }
			if (document.getElementById("male").checked) { gender = "Male"; }
			var dob = document.getElementById('dob').value;
			var sname = document.getElementById('sname').value;
			var email = document.getElementById('email').value;
			var phone = document.getElementById('phone').value;
			var password = document.getElementById('password').value;
			var password2 = document.getElementById('password2').value;
			//repeat for each field on form
			//Set a flag saying everything entered is correct
			var formGood = true;
			/*Check the fields on the form
			if a field fails, then
			set the formGood flag to false
			set the class for the label to red
			else
			set the class for the label to black (just n case it had been set to red earlier)*/
			if (lname == "") {
				formGood = false;
				document.getElementById('lnameLabel').className = 'redtext';
			} else {
				document.getElementById('lnameLabel').className = 'blacktext';
			}
			if (fname == "") {
				formGood = false;
				document.getElementById('fnameLabel').className = 'redtext';
			} else {
				document.getElementById('fnameLabel').className = 'blacktext';
			}
			if (address == "") {
				formGood = false;
				document.getElementById('addressLabel').className = 'redtext';
			} else {
				document.getElementById('addressLabel').className = 'blacktext';
			}
			if (ste == "") {
				formGood = false;
				document.getElementById('steLabel').className = 'redtext';
			} else {
				document.getElementById('steLabel').className = 'blacktext';
			}
			if (city == "") {
				formGood = false;
				document.getElementById('cityLabel').className = 'redtext';
			} else {
				document.getElementById('cityLabel').className = 'blacktext';
			}
			if (zipcode == "") {
				formGood = false;
				document.getElementById('zipcodeLabel').className = 'redtext';
			} else {
				document.getElementById('zipcodeLabel').className = 'blacktext';
			}
			if (dob == "") {
				formGood = false;
				document.getElementById('birthdateLabel').className = 'redtext';
			} else {
				document.getElementById('birthdateLabel').className = 'blacktext';
			}
			//check that the passwords are the same
			if ((!password || !password2) || password != password2) {
				formGood = false;
				document.getElementById('passwordLabel').className = 'redtext';
				document.getElementById('password2Label').className = 'redtext';

				//set the password2 label red also
			} else {
			}
			/*if formGood is still true then
			submit the form
			else
			display error message*/
			if (formGood== true) {
				document.getElementById('myForm').submit();
			} else {
				document.getElementById('errorMsg').innerHTML = "Please fix the errors below";
			}
		}
	</script>
</head>
<body>
	<h2>Lab 4 - Forms Processing</h2>
	<h2 id ='errorMsg' class='redtext'></h2>
	<form id="myForm" action="https://www.waynedog.net/formreader.php" method="POST">
		<table>
			<tr>
				<th><label id="fnameLabel">First name</label></th>
				<td><input type="text" id="fname" name="fname" /></td>
				<th><label id="lnameLabel">Last name</label></th>
				<td><input type="text" id="lname" name="lname" /></td>
			</tr>
			<tr>
				<th><label id="addressLabel">Address </label></th>
				<td><input type="text" id="address" name="address" /></td>
				<th><label id="steLabel">Suite or Apt. </label></th>
				<td><input type="text" id="ste" name="ste" /></td>
			</tr>
			<tr>
				<th><label id="cityLabel">City </label></th>
				<td><input type="text" id="city" name="city" /></td>
				<th><label id="stateLabel">State </label></th>
				<td>
					<select id="state" name="state">
						<option value="choose" selected>Select a state</option>
						<option value="AL">Alabama</option>
						<option value="AK">Alaska</option>
						<option value="AZ">Arizona</option>
						<option value="AR">Arkansas</option>
						<option value="CA">California</option>
						<option value="CO">Colorado</option>
						<option value="CT">Connecticut</option>
						<option value="DE">Delaware</option>
						<option value="DC">District Of Columbia</option>
						<option value="FL">Florida</option>
						<option value="GA">Georgia</option>
						<option value="HI">Hawaii</option>
						<option value="ID">Idaho</option>
						<option value="IL">Illinois</option>
						<option value="IN">Indiana</option>
						<option value="IA">Iowa</option>
						<option value="KS">Kansas</option>
						<option value="KY">Kentucky</option>
						<option value="LA">Louisiana</option>
						<option value="ME">Maine</option>
						<option value="MD">Maryland</option>
						<option value="MA">Massachusetts</option>
						<option value="MI">Michigan</option>
						<option value="MN">Minnesota</option>
						<option value="MS">Mississippi</option>
						<option value="MO">Missouri</option>
						<option value="MT">Montana</option>
						<option value="NE">Nebraska</option>
						<option value="NV">Nevada</option>
						<option value="NH">New Hampshire</option>
						<option value="NJ">New Jersey</option>
						<option value="NM">New Mexico</option>
						<option value="NY">New York</option>
						<option value="NC">North Carolina</option>
						<option value="ND">North Dakota</option>
						<option value="OH">Ohio</option>
						<option value="OK">Oklahoma</option>
						<option value="OR">Oregon</option>
						<option value="PA">Pennsylvania</option>
						<option value="RI">Rhode Island</option>
						<option value="SC">South Carolina</option>
						<option value="SD">South Dakota</option>
						<option value="TN">Tennessee</option>
						<option value="TX">Texas</option>
						<option value="UT">Utah</option>
						<option value="VT">Vermont</option>
						<option value="VA">Virginia</option>
						<option value="WA">Washington</option>
						<option value="WV">West Virginia</option>
						<option value="WI">Wisconsin</option>
						<option value="WY">Wyoming</option>
					</select>
				</td>
			</tr>
			<tr>
				<th><label name="zipcodeLabel" id="zipcodeLabel" for="zipcode">Zip code </label></th>
				<td><input type="text" id="zipcode"></td>
			</tr>
			<tr>
				<th><label for="gender">Gender </label></th>
				<td>
					<input type="radio" name="gender" id="male" value="Male">Male
					<input type="radio" name="gender" id="female" value="Female">Female
				</td>
				<th><label id="birthdateLabel">Birthday </label></th>
				<td><input type="date" id="dob" name="dob" /></td>
			</tr>
			<tr>
				<th><label id="mstatusLabel">Marital Status </label></th>
				<td>
					<select id="mstatus" name="mstatus">
						<option value="single">Single</option>
						<option value="married">Married</option>
						<option value="choose" selected>Choose one</option>
					</select>
				</td>
				<th><label id="snameLabel">Spouse's name </label></th>
				<td><input type="text" id="sname" name="sname" disabled /></td>
			</tr>
			<tr>
				<th><label id="emailLabel">Email </label></th>
				<td><input type="email" id="email" name="email"></td>
				<th><label id="phoneLabel">Phone </label></th>
				<td><input type="tel" id="phone" name="phone"></td>
			</tr>
			<tr>
				<th><label id="passwordLabel">Password </label></th>
				<td><input type="password" id="password" name="password"></td>
				<th><label id="password2Label">Confirm password </label></th>
				<td><input type="password" id="password2" name="password2"></td>
			</tr>
			<tr>
				<td><input type="reset" value="Reset"></td>
				<td><input type="button" value="Submit" id="submitBtn"></td>
			</tr>
		</table>
	</form>
</body>
</html> 